{
    "openapi": "3.0.1",
    "info": {
        "version": "v1.0",
        "title": "Mansfield Energy - Orders",
        "description": "API Endpoints",
        "contact": {
            "name": "Jeremy Kent",
            "email": "jkent@mansfieldoil.com"
        }
    },
    "servers": [
        {
            "url": "https://apigateway.stg.mansfieldoil.com/qa27/orders",
            "description": "QA"
        },
        {
            "url": "https://apigateway.stg.mansfieldoil.com/orders",
            "description": "Staging"
        }
    ],
    "paths": {
        "/api/v1/CreateShipTo": {
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateShipToInput"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Success"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/api/v1/GetShipTosByShipToIds": {
            "get": {
                "parameters": [
                    {
                        "name": "tenantId",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "format": "int32"
                        }
                    },
                    {
                        "name": "shipToIds",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v1/CreateInventoryOrder": {
            "post": {
                "summary": "CreateInventoryOrder",
                "description": "Create an inventory order with delivery information in Entinuum",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "example": {
                                "shipToID": 127212,
                                "deliveryStartDate": "2022-09-19",
                                "deliveryEndDate": "2022-09-19",
                                "carrierID": 76,
                                "lineItems": [
                                    {
                                        "productID": 130,
                                        "grossQuantity": 504000,
                                        "netQuantity": 504000,
                                        "buyProductContractID": 20298,
                                        "buyFreightContractID": null,
                                        "sellContractID": 18085,
                                        "productUnitPrice": 0,
                                        "productUnitCost": 3.713700,
                                        "freightUnitPrice": 0,
                                        "freightUnitCost": 0,
                                        "corporatePO": null,
                                        "shipToPO": null
                                    }
                                ],
                                "deliveryTicketNumber": "255399",
                                "vehicleID": null,
                                "driverID": null,
                                "internalComments": null,
                                "dispatchComments": null,
                                "customerOrderComments": null,
                                "carrierComments": null,
                                "shipToFulfillmentComments": null,
                                "invoiceComments": null,
                                "boLs": [
                                    {
                                        "bolNumber": "77799",
                                        "terminalID": 3324,
                                        "supplierID": 1683,
                                        "loadingNumber": null,
                                        "liftStartDate": "2022-09-19",
                                        "liftEndDate": "2022-09-19",
                                        "bolItems": [
                                            {
                                                "grossQuantity": 504000,
                                                "netQuantity": 504000,
                                                "productID": 130
                                            }
                                        ]
                                    }
                                ]
                            },
                            "schema": {
                                "$ref": "#/components/schemas/Order"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/json": {
                                "example": {
                                    "orderID": 4643429,
                                    "orderDeliveryID": 6749904,
                                    "isSuccess": true,
                                    "errorMessage": null,
                                    "orderStatusID": 13,
                                    "orderStatus": "Fulfilled",
                                    "orderDeliveryStatusID": 11,
                                    "orderDeliveryStatus": "Fulfilled"
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/OrderResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/v1/GetFixedPriceOrders": {
            "get": {
                "summary": "GetFixedPriceOrders",
                "description": "",
                "parameters": [
                    {
                        "name": "shipToIds",
                        "in": "query",
                        "required": true,
                        "example": "9340,63218,67420,68545,72955,80939,88417,99027,101616,122932,141188,145879,145882,145885,145886,145897,145898,145900,145901,145903",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "startOrderedDate",
                        "in": "query",
                        "required": true,
                        "example": "8/26/2022",
                        "schema": {
                            "type": "string",
                            "description": "DateOnly"
                        }
                    },
                    {
                        "name": "endOrderedDate",
                        "in": "query",
                        "required": true,
                        "example": "9/14/2022",
                        "schema": {
                            "type": "string",
                            "description": "DateOnly"
                        }
                    },
                    {
                        "name": "orderStatusIds",
                        "in": "query",
                        "required": false,
                        "example": "16",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/json": {
                                "example": {
                                    "fixedPriceOrders": [
                                        {
                                            "orderID": 4557959,
                                            "orderLineItemNum": 1,
                                            "orderedDate": "2022-08-27T00:00:00",
                                            "customerID": 6080,
                                            "customerName": "Mansfield customer 1",
                                            "orderStatusID": 13,
                                            "orderStatus": "Fulfilled",
                                            "sellContractID": 15087,
                                            "sellContract": "FTL-MOC-Mansfield customer 1",
                                            "shipToID": 99027,
                                            "shipTo": "Customer 1 and address",
                                            "orderedQuantity": 6000.00,
                                            "actualDeliveryDate": "2022-08-29T09:15:00",
                                            "orderDeliveryStatusID": 11,
                                            "orderDeliveryStatus": "Fulfilled",
                                            "orderDeliveryID": 6659253,
                                            "deliveredQuantity": 7287.00,
                                            "productID": 4,
                                            "productName": "Fuel type 4",
                                            "unitPrice": 2.310000,
                                            "fixedPrice": 2.310000,
                                            "nonFixedPrice": 0.000000
                                        },
                                        {
                                            "orderID": 4593982,
                                            "orderLineItemNum": 1,
                                            "orderedDate": "2022-09-13T00:00:00",
                                            "customerID": 5622,
                                            "customerName": "Mansfield customer 2",
                                            "orderStatusID": 16,
                                            "orderStatus": "Billed",
                                            "sellContractID": 11019,
                                            "sellContract": "MR-MOC-Mansfield customer 2",
                                            "shipToID": 122932,
                                            "shipTo": "Customer 2 and address",
                                            "orderedQuantity": 10.00,
                                            "actualDeliveryDate": "2022-09-13T00:00:00",
                                            "orderDeliveryStatusID": 10,
                                            "orderDeliveryStatus": "Billed",
                                            "orderDeliveryID": 6698652,
                                            "deliveredQuantity": 20.00,
                                            "productID": 2,
                                            "productName": "Fuel type 2",
                                            "unitPrice": 4.500000,
                                            "fixedPrice": 4.500000,
                                            "nonFixedPrice": 0.000000
                                        }
                                    ],
                                    "isSuccess": false,
                                    "errorMessage": null,
                                    "errorCodes": []
                                },
                                "schema": {
                                    "$ref": "#/components/schemas/FixedPriceOrder"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "CreateShipToInput": {
                "type": "object",
                "properties": {
                    "shipToName": {
                        "type": "string",
                        "description": "Entinuum ShipTo Name",
                        "nullable": true
                    },
                    "tenantID": {
                        "type": "integer",
                        "description": "Entinuum Tenant ID",
                        "format": "int32"
                    },
                    "companyID": {
                        "type": "integer",
                        "description": "Entinuum Company ID",
                        "format": "int32"
                    },
                    "companyName": {
                        "type": "string",
                        "description": "Entinuum Company Name",
                        "nullable": true
                    },
                    "address1": {
                        "type": "string",
                        "description": "Entinuum Address1",
                        "nullable": true
                    },
                    "city": {
                        "type": "string",
                        "description": "City Name",
                        "nullable": true
                    },
                    "state": {
                        "type": "string",
                        "description": "State Name",
                        "nullable": true
                    },
                    "zip": {
                        "type": "string",
                        "description": "Zip Code",
                        "nullable": true
                    },
                    "status": {
                        "type": "integer",
                        "description": "ShipTo Status",
                        "format": "int32",
                        "nullable": true
                    },
                    "isActive": {
                        "type": "boolean",
                        "description": "ShipTo active status",
                        "nullable": true
                    }
                },
                "additionalProperties": false,
                "description": ""
            },
            "AdderItem": {
                "type": "object",
                "properties": {
                    "adderID": {
                        "type": "integer",
                        "description": "Entinuum AdderID",
                        "format": "int32"
                    },
                    "adderTypeID": {
                        "type": "integer",
                        "description": "Entinuum AdderTypeID",
                        "format": "int32"
                    },
                    "measurementUnitID": {
                        "type": "integer",
                        "description": "Entinuum MeasurementUnitID",
                        "format": "int32"
                    },
                    "adderRate": {
                        "type": "number",
                        "description": "Unit cost/price of Adder",
                        "format": "double"
                    },
                    "isPayable": {
                        "type": "boolean",
                        "description": "Should Adder be paid to carrier/supplier"
                    },
                    "isBillable": {
                        "type": "boolean",
                        "description": "Should Adder be billed to the customer"
                    },
                    "isPlanned": {
                        "type": "boolean",
                        "description": "Is the Adder planned on the buy/sell contract"
                    }
                },
                "additionalProperties": false,
                "description": ""
            },
            "Bol": {
                "type": "object",
                "properties": {
                    "bolNumber": {
                        "type": "string",
                        "description": "Bill of lading number",
                        "nullable": true
                    },
                    "terminalID": {
                        "type": "integer",
                        "description": "Entinuum TerminalID",
                        "format": "int32"
                    },
                    "supplierID": {
                        "type": "integer",
                        "description": "Entinuum SupplierID",
                        "format": "int32"
                    },
                    "loadingNumber": {
                        "type": "string",
                        "description": "Loading Number",
                        "nullable": true
                    },
                    "liftStartDate": {
                        "type": "string",
                        "description": "Lift start date and time",
                        "format": "date-time"
                    },
                    "liftEndDate": {
                        "type": "string",
                        "description": "Lift end date and time",
                        "format": "date-time"
                    },
                    "bolItems": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/BolItem"
                        },
                        "description": "List of BOL items",
                        "nullable": true
                    }
                },
                "additionalProperties": false,
                "description": ""
            },
            "BolItem": {
                "type": "object",
                "properties": {
                    "grossQuantity": {
                        "type": "number",
                        "description": "Lifted gross quantity",
                        "format": "double"
                    },
                    "netQuantity": {
                        "type": "number",
                        "description": "Lifted net quantity",
                        "format": "double"
                    },
                    "productID": {
                        "type": "integer",
                        "description": "Entinuum ProductID",
                        "format": "int32"
                    }
                },
                "additionalProperties": false,
                "description": ""
            },
            "LineItem": {
                "required": [
                    "buyProductContractID",
                    "grossQuantity",
                    "netQuantity",
                    "productID",
                    "productUnitCost",
                    "productUnitPrice",
                    "sellContractID"
                ],
                "type": "object",
                "properties": {
                    "productID": {
                        "type": "integer",
                        "description": "Entinuum ProductID",
                        "format": "int32"
                    },
                    "grossQuantity": {
                        "type": "number",
                        "description": "Gross Quantity",
                        "format": "double"
                    },
                    "netQuantity": {
                        "type": "number",
                        "description": "Net Quantity",
                        "format": "double"
                    },
                    "buyProductContractID": {
                        "type": "integer",
                        "description": "Entinuum Supplier ContractId",
                        "format": "int32"
                    },
                    "buyFreightContractID": {
                        "type": "integer",
                        "description": "Entinuum FreightContractID *Not required for FOB*",
                        "format": "int32",
                        "nullable": true
                    },
                    "sellContractID": {
                        "type": "integer",
                        "description": "Entinuum SellContractID for customer",
                        "format": "int32"
                    },
                    "productUnitPrice": {
                        "type": "number",
                        "description": "Unit price from the sell contract",
                        "format": "double"
                    },
                    "productUnitCost": {
                        "type": "number",
                        "description": "Freight cost from the buy freight contract",
                        "format": "double"
                    },
                    "freightUnitPrice": {
                        "type": "number",
                        "description": "Freight price from the sell contract *Not required for FOB*",
                        "format": "double",
                        "nullable": true
                    },
                    "freightUnitCost": {
                        "type": "number",
                        "description": "Freight cost from the buy freight contract *Not required for FOB*",
                        "format": "double",
                        "nullable": true
                    },
                    "corporatePO": {
                        "type": "string",
                        "description": "Coporate PO number setup on the sell contract",
                        "nullable": true
                    },
                    "shipToPO": {
                        "type": "string",
                        "description": "ShipTo PO number setup on the sell contract",
                        "nullable": true
                    },
                    "adderLineItems": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/AdderItem"
                        },
                        "description": "List of Adder items",
                        "nullable": true
                    }
                },
                "additionalProperties": false,
                "description": ""
            },
            "Order": {
                "required": [
                    "boLs",
                    "carrierID",
                    "deliveryEndDate",
                    "deliveryStartDate",
                    "lineItems",
                    "shipToID"
                ],
                "type": "object",
                "properties": {
                    "shipToID": {
                        "type": "integer",
                        "description": "Entinuum ShipToID",
                        "format": "int32"
                    },
                    "deliveryStartDate": {
                        "type": "string",
                        "description": "Delivery start date and time",
                        "format": "date-time"
                    },
                    "deliveryEndDate": {
                        "type": "string",
                        "description": "Delivery end date and time",
                        "format": "date-time"
                    },
                    "carrierID": {
                        "type": "integer",
                        "description": "Entinuum CarrierID",
                        "format": "int32"
                    },
                    "lineItems": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/LineItem"
                        },
                        "description": "List of order delivery items"
                    },
                    "deliveryTicketNumber": {
                        "type": "string",
                        "description": "Proof of delivery number",
                        "nullable": true
                    },
                    "vehicleID": {
                        "type": "integer",
                        "description": "The truck identifier setup for inventory transactions",
                        "format": "int32",
                        "nullable": true
                    },
                    "driverID": {
                        "type": "integer",
                        "description": "Entinuum DriverID setup for the truck",
                        "format": "int32",
                        "nullable": true
                    },
                    "internalComments": {
                        "type": "string",
                        "description": "Internal comments to display on the Entinuum order entry screen",
                        "nullable": true
                    },
                    "dispatchComments": {
                        "type": "string",
                        "description": "Dispatch comments to display on the Entinuum order scheduling screen",
                        "nullable": true
                    },
                    "customerOrderComments": {
                        "type": "string",
                        "description": "Order comments to display on the Entinuum order entry screen",
                        "nullable": true
                    },
                    "carrierComments": {
                        "type": "string",
                        "description": "Carrier comments to display on the Entinuum order scheduling screen",
                        "nullable": true
                    },
                    "shipToFulfillmentComments": {
                        "type": "string",
                        "description": "ShipTo comments to display on the Entinuum order fulfillment screen",
                        "nullable": true
                    },
                    "invoiceComments": {
                        "type": "string",
                        "description": "Invoice comments to display on the Entinuum order fulfillment screen",
                        "nullable": true
                    },
                    "boLs": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Bol"
                        },
                        "description": "List of bill of ladings"
                    }
                },
                "additionalProperties": false,
                "description": ""
            },
            "OrderResponse": {
                "type": "object",
                "properties": {
                    "OrderID": {
                        "type": "integer",
                        "description": "Entinuum OrderID"
                    },
                    "OrderDeliveryID": {
                        "type": "integer",
                        "description": "Entinuum OrderDeliveryID"
                    },
                    "IsSuccess": {
                        "type": "boolean",
                        "description": "Was order delivery created successfully"
                    },
                    "ErrorMessage": {
                        "type": "string",
                        "description": "Description of the error"
                    },
                    "OrderStatusID": {
                        "type": "integer",
                        "description": "StatusID of the order"
                    },
                    "OrderStatus": {
                        "type": "string",
                        "description": "Status name of the order"
                    },
                    "OrderDeliveryStatusID": {
                        "type": "integer",
                        "description": "StatusID of the delivery"
                    },
                    "OrderDeliveryStatus": {
                        "type": "string",
                        "description": "Status name of the delivery"
                    }
                },
                "additionalProperties": false
            },
            "FixedPriceOrder": {
                "type": "object",
                "properties": {
                    "OrderID": {
                        "type": "integer",
                        "description": "Entinuum OrderID"
                    },
                    "OrderDeliveryID": {
                        "type": "integer",
                        "description": "Entinuum OrderDeliveryID"
                    },
                    "OrderStatusID": {
                        "type": "integer",
                        "description": "StatusID of the order"
                    },
                    "OrderStatus": {
                        "type": "string",
                        "description": "Status name of the order"
                    },
                    "OrderDeliveryStatusID": {
                        "type": "integer",
                        "description": "StatusID of the delivery"
                    },
                    "OrderDeliveryStatus": {
                        "type": "string",
                        "description": "Status name of the delivery"
                    },
                    "OrderLineItemNum": {
                        "type": "integer",
                        "description": "Order line item number"
                    },
                    "CustomerID": {
                        "type": "integer",
                        "description": "Entinuum CustomerID"
                    },
                    "CustomerName": {
                        "type": "string",
                        "description": "Customer name"
                    },
                    "SellContractID": {
                        "type": "integer",
                        "description": "Entinuum SellContractID for customer"
                    },
                    "SellContract": {
                        "type": "string",
                        "description": "Sell contract name"
                    },
                    "ShipToID": {
                        "type": "integer",
                        "description": "Entinuum ShipToID"
                    },
                    "ShipTo": {
                        "type": "string",
                        "description": "ShipTo name with address"
                    },
                    "OrderedQuantity": {
                        "type": "number",
                        "description": "The quantity requested by the customer. If the Order is scheduled or dispatched, this is the scheduled quantity."
                    },
                    "OrderedDate": {
                        "type": "object",
                        "description": "The date requested by the customer for the delivery to be made. If the Order is scheduled or dispatched, this is the scheduled delivery date."
                    },
                    "ActualDeliveryDate": {
                        "type": "object",
                        "description": "Delivery date on the fulfilled order"
                    },
                    "DeliveredQuantity": {
                        "type": "number",
                        "description": "Delivered Quantity on the fulfilled order"
                    },
                    "ProductID": {
                        "type": "integer",
                        "description": "Entinuum ProductID"
                    },
                    "ProductName": {
                        "type": "string",
                        "description": "Name of the product"
                    },
                    "UnitPrice": {
                        "type": "number",
                        "description": "Product unit price on the delivered line item"
                    },
                    "FixedPrice": {
                        "type": "number",
                        "description": "Fixed price portion of the product unit price"
                    },
                    "NonFixedPrice": {
                        "type": "number",
                        "description": "Non-Fixed price portion of the product unit price"
                    }
                },
                "additionalProperties": false
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "description": "Azure AD B2C Token. Example: \\\"Authorization: Bearer {token}\\\"",
                "scheme": "bearer",
                "bearerFormat": "JWT"
            }
        }
    },
    "security": [
        {
            "bearerAuth": []
        }
    ]
}
